github\_url  
hide

# RefCounted

**Inherits:** `Object<class_Object>`

**Inherited By:** `AESContext<class_AESContext>`,
`AStar2D<class_AStar2D>`, `AStar3D<class_AStar3D>`,
`AStarGrid2D<class_AStarGrid2D>`,
`AudioEffectInstance<class_AudioEffectInstance>`,
`AudioSample<class_AudioSample>`,
`AudioSamplePlayback<class_AudioSamplePlayback>`,
`AudioStreamPlayback<class_AudioStreamPlayback>`,
`CameraFeed<class_CameraFeed>`,
`CharFXTransform<class_CharFXTransform>`,
`ConfigFile<class_ConfigFile>`, `Crypto<class_Crypto>`,
`DirAccess<class_DirAccess>`, `DTLSServer<class_DTLSServer>`,
`EditorContextMenuPlugin<class_EditorContextMenuPlugin>`,
`EditorDebuggerPlugin<class_EditorDebuggerPlugin>`,
`EditorDebuggerSession<class_EditorDebuggerSession>`,
`EditorExportPlatform<class_EditorExportPlatform>`,
`EditorExportPlugin<class_EditorExportPlugin>`,
`EditorExportPreset<class_EditorExportPreset>`,
`EditorFeatureProfile<class_EditorFeatureProfile>`,
`EditorFileSystemImportFormatSupportQuery<class_EditorFileSystemImportFormatSupportQuery>`,
`EditorInspectorPlugin<class_EditorInspectorPlugin>`,
`EditorResourceConversionPlugin<class_EditorResourceConversionPlugin>`,
`EditorResourcePreviewGenerator<class_EditorResourcePreviewGenerator>`,
`EditorResourceTooltipPlugin<class_EditorResourceTooltipPlugin>`,
`EditorSceneFormatImporter<class_EditorSceneFormatImporter>`,
`EditorScenePostImport<class_EditorScenePostImport>`,
`EditorScenePostImportPlugin<class_EditorScenePostImportPlugin>`,
`EditorScript<class_EditorScript>`,
`EditorTranslationParserPlugin<class_EditorTranslationParserPlugin>`,
`EncodedObjectAsID<class_EncodedObjectAsID>`,
`ENetConnection<class_ENetConnection>`,
`EngineProfiler<class_EngineProfiler>`, `Expression<class_Expression>`,
`FileAccess<class_FileAccess>`, `HashingContext<class_HashingContext>`,
`HMACContext<class_HMACContext>`, `HTTPClient<class_HTTPClient>`,
`ImageFormatLoader<class_ImageFormatLoader>`,
`JavaClass<class_JavaClass>`, `JavaObject<class_JavaObject>`,
`JavaScriptObject<class_JavaScriptObject>`,
`KinematicCollision2D<class_KinematicCollision2D>`,
`KinematicCollision3D<class_KinematicCollision3D>`,
`Lightmapper<class_Lightmapper>`,
`MeshConvexDecompositionSettings<class_MeshConvexDecompositionSettings>`,
`MeshDataTool<class_MeshDataTool>`,
`MultiplayerAPI<class_MultiplayerAPI>`, `Mutex<class_Mutex>`,
`NavigationPathQueryParameters2D<class_NavigationPathQueryParameters2D>`,
`NavigationPathQueryParameters3D<class_NavigationPathQueryParameters3D>`,
`NavigationPathQueryResult2D<class_NavigationPathQueryResult2D>`,
`NavigationPathQueryResult3D<class_NavigationPathQueryResult3D>`,
`Node3DGizmo<class_Node3DGizmo>`,
`OggPacketSequencePlayback<class_OggPacketSequencePlayback>`,
`OpenXRAPIExtension<class_OpenXRAPIExtension>`,
`PackedDataContainerRef<class_PackedDataContainerRef>`,
`PacketPeer<class_PacketPeer>`, `PCKPacker<class_PCKPacker>`,
`PhysicsPointQueryParameters2D<class_PhysicsPointQueryParameters2D>`,
`PhysicsPointQueryParameters3D<class_PhysicsPointQueryParameters3D>`,
`PhysicsRayQueryParameters2D<class_PhysicsRayQueryParameters2D>`,
`PhysicsRayQueryParameters3D<class_PhysicsRayQueryParameters3D>`,
`PhysicsShapeQueryParameters2D<class_PhysicsShapeQueryParameters2D>`,
`PhysicsShapeQueryParameters3D<class_PhysicsShapeQueryParameters3D>`,
`PhysicsTestMotionParameters2D<class_PhysicsTestMotionParameters2D>`,
`PhysicsTestMotionParameters3D<class_PhysicsTestMotionParameters3D>`,
`PhysicsTestMotionResult2D<class_PhysicsTestMotionResult2D>`,
`PhysicsTestMotionResult3D<class_PhysicsTestMotionResult3D>`,
`RandomNumberGenerator<class_RandomNumberGenerator>`,
`RDAttachmentFormat<class_RDAttachmentFormat>`,
`RDFramebufferPass<class_RDFramebufferPass>`,
`RDPipelineColorBlendState<class_RDPipelineColorBlendState>`,
`RDPipelineColorBlendStateAttachment<class_RDPipelineColorBlendStateAttachment>`,
`RDPipelineDepthStencilState<class_RDPipelineDepthStencilState>`,
`RDPipelineMultisampleState<class_RDPipelineMultisampleState>`,
`RDPipelineRasterizationState<class_RDPipelineRasterizationState>`,
`RDPipelineSpecializationConstant<class_RDPipelineSpecializationConstant>`,
`RDSamplerState<class_RDSamplerState>`,
`RDShaderSource<class_RDShaderSource>`,
`RDTextureFormat<class_RDTextureFormat>`,
`RDTextureView<class_RDTextureView>`, `RDUniform<class_RDUniform>`,
`RDVertexAttribute<class_RDVertexAttribute>`, `RegEx<class_RegEx>`,
`RegExMatch<class_RegExMatch>`,
`RenderSceneBuffers<class_RenderSceneBuffers>`,
`RenderSceneBuffersConfiguration<class_RenderSceneBuffersConfiguration>`,
`Resource<class_Resource>`,
`ResourceFormatLoader<class_ResourceFormatLoader>`,
`ResourceFormatSaver<class_ResourceFormatSaver>`,
`ResourceImporter<class_ResourceImporter>`,
`SceneState<class_SceneState>`, `SceneTreeTimer<class_SceneTreeTimer>`,
`Semaphore<class_Semaphore>`, `SkinReference<class_SkinReference>`,
`StreamPeer<class_StreamPeer>`, `SurfaceTool<class_SurfaceTool>`,
`TCPServer<class_TCPServer>`, `TextLine<class_TextLine>`,
`TextParagraph<class_TextParagraph>`, `TextServer<class_TextServer>`,
`Thread<class_Thread>`, `TLSOptions<class_TLSOptions>`,
`TranslationDomain<class_TranslationDomain>`,
`TriangleMesh<class_TriangleMesh>`, `Tween<class_Tween>`,
`Tweener<class_Tweener>`, `UDPServer<class_UDPServer>`,
`UPNP<class_UPNP>`, `UPNPDevice<class_UPNPDevice>`,
`WeakRef<class_WeakRef>`,
`WebRTCPeerConnection<class_WebRTCPeerConnection>`,
`XMLParser<class_XMLParser>`, `XRInterface<class_XRInterface>`,
`XRPose<class_XRPose>`, `XRTracker<class_XRTracker>`,
`ZIPPacker<class_ZIPPacker>`, `ZIPReader<class_ZIPReader>`

Base class for reference-counted objects.

classref-introduction-group

## Description

Base class for any object that keeps a reference count.
`Resource<class_Resource>` and many other helper objects inherit this
class.

Unlike other `Object<class_Object>` types, **RefCounted**s keep an
internal reference counter so that they are automatically released when
no longer in use, and only then. **RefCounted**s therefore do not need
to be freed manually with `Object.free<class_Object_method_free>`.

\*\*RefCounted\*\* instances caught in a cyclic reference will **not**
be freed automatically. For example, if a node holds a reference to
instance `A`, which directly or indirectly holds a reference back to
`A`, `A`'s reference count will be 2. Destruction of the node will leave
`A` dangling with a reference count of 1, and there will be a memory
leak. To prevent this, one of the references in the cycle can be made
weak with `@GlobalScope.weakref<class_@GlobalScope_method_weakref>`.

In the vast majority of use cases, instantiating and using
**RefCounted**-derived types is all you need to do. The methods provided
in this class are only for advanced users, and can cause issues if
misused.

\*\*Note:\*\* In C#, reference-counted objects will not be freed
instantly after they are no longer in use. Instead, garbage collection
will run periodically and will free reference-counted objects that are
no longer in use. This means that unused ones will remain in memory for
a while before being removed.

classref-introduction-group

## Tutorials

-   `When and how to avoid using nodes for everything <../tutorials/best_practices/node_alternatives>`

classref-reftable-group

## Methods

<table>
<tbody>
<tr>
</tr>
<tr>
</tr>
<tr>
</tr>
<tr>
</tr>
</tbody>
</table>

classref-section-separator

------------------------------------------------------------------------

classref-descriptions-group

## Method Descriptions

classref-method

`int<class_int>` **get\_reference\_count**()
`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
`ðŸ”—<class_RefCounted_method_get_reference_count>`

Returns the current reference count.

classref-item-separator

------------------------------------------------------------------------

classref-method

`bool<class_bool>` **init\_ref**()
`ðŸ”—<class_RefCounted_method_init_ref>`

Initializes the internal reference counter. Use this only if you really
know what you are doing.

Returns whether the initialization was successful.

classref-item-separator

------------------------------------------------------------------------

classref-method

`bool<class_bool>` **reference**()
`ðŸ”—<class_RefCounted_method_reference>`

Increments the internal reference counter. Use this only if you really
know what you are doing.

Returns `true` if the increment was successful, `false` otherwise.

classref-item-separator

------------------------------------------------------------------------

classref-method

`bool<class_bool>` **unreference**()
`ðŸ”—<class_RefCounted_method_unreference>`

Decrements the internal reference counter. Use this only if you really
know what you are doing.

Returns `true` if the object should be freed after the decrement,
`false` otherwise.
